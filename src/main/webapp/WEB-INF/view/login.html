<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>订单管理系统</title>
        <script src="${base.contextPath}/lib/jquery/jquery-1.9.0.min.js" type="text/javascript"></script>
        <link rel="stylesheet" type="text/css" href="${base.contextPath}/resources/css/bootstrap.css" />
        <link rel="stylesheet" type="text/css" href="${base.contextPath}/resources/css/login.css">
  </head>
  <script type="text/javascript">
      function getCodeImage() {
          // 为了使每次生成图片不一致，即不让浏览器读缓存，所以需要加上时间戳
          var timestamp = (new Date()).valueOf();
          var imgSrc = $("#imgObj");
          var src = imgSrc.attr("src") + "?timestamp=" + timestamp;

          var XMLHttp = null;
          if (window.XMLHttpRequest) {
              XMLHttp = new XMLHttpRequest()
          } else if (window.ActiveXObject) {
              XMLHttp = new ActiveXObject("Microsoft.XMLHTTP");
          }
          XMLHttp.onreadystatechange = function() {
              if (XMLHttp.readyState == 4) {
                  imgSrc.attr("src", src);//改变验证码图片
              }
          }
          XMLHttp.open("GET", src, true);
          XMLHttp.send(null);
      }
  </script>
  <body>
    <div class="box">
    <div class="login-box">

        <div class="login-title text-center ">
            <h1><small>广州欣达运输公司-订单管理系统</small></h1>
        </div>
        <#if msg??>
            <span style="color: red">${msg}</span>
        </#if>
        <div class="login-content ">
            <div class="form">
                <form action="${base.contextPath}/login" method="post">
                    <div class="form-group">
                        <div class="col-xs-8  ">
                            <div class="input-group">
                                <span class="input-group-addon"><span class="glyphicon glyphicon-user"></span></span>
                                <input type="text" id="userName" name="userName" class="form-control" placeholder="用户名">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-8  ">
                            <div class="input-group">
                                <span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>
                                <input type="password" id="password" name="password" class="form-control" placeholder="密码">
                            </div>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-xs-8  ">
                            <div class="input-group">
                                <span class="input-group-addon"><span class="glyphicon glyphicon-lock"></span></span>
                                <input class="form-control" type="text" placeholder="验证码" name="verificationCode" autocomplete="off" />
                            </div>
                        </div>
                    </div>
                    <div>
                        <img id="imgObj" src="${base.contextPath}/verificationCode" style="border: none; float: left" onclick="getCodeImage()" />
                    </div>
                    <div class="form-group form-actions">
                        <div class="col-xs-4 col-xs-offset-4 ">
                            <button type="submit" class="btn btn-sm btn-info center-block">登录</button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
</body>
</html>